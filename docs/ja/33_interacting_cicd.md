## CI/CDの使い方

### ワークフローのレビュー：テストに合格するため、README.mdを更新しましょう

READMEにあるリンクを、自分のリポジトリのフォークへ飛ぶように更新し、GitHubのフローを最初から練習してみましょう。

> あなたのウェブサイトは`https://githubschool.github.io/github-games-username`にあります。
>
> このURLにアクセスすると、`README.md` にあるテキストが表示されます。 このリポジトリの修正方法を学習するために、わざとリポジトリを壊しました。 マージするテストでもこのURLを確認します。

GitHubのフローを練習する前に、自分のリポジトリでGitHub Pagesを有効にし、GitHub PagesのURLを取得する必要があります。

1. *Settings*のタブをクリックして、リポジトリの設定にアクセスします。
2. *Options* のパネルで（デフォルトで開いている）、*GitHub Pages* のセクションまでスクロールします。
3. *Source* にある*None*のドロップダウンをクリックして、`master branch`を選択します。
4. *Save* をクリックして、保存します。
5. 改めてGitHub Pagesのセクションまで下にスクロールすると、新しいテキストボックスに公開サイトのURLが表示されます。 このURLは、後で`README.md` のファイルを変更するために使用します。

現在のテストでは、`README.md`にあるURLの正確さを確認します。 GitHubのフローを使用し、URLが**正しくなく** 、失敗するビルドで、Pull Request を作成します。 現在のテストはこちらにあります。`tests/test_verifyurl.rb`

このセクションの目的は、テストを見て、失敗したビルドのエラーメッセージを解読し、ワークフローを練習することです。 ツールのこんなにも大量のフィードバックを見ると、圧倒されますよね！ もっと深く掘り下げたいのであれば、掘り下げても良いですが、圧倒されてしまったら、まずは修正すべき場所を明確にするために、エラーメッセージを探すことに集中しましょう。

1. リポジトリのコピーをクローンします。`git clone https://github.com/githubschool/github-games-USERNAME.git`.
2. Pull Request にあるブランチにチェックアウトします。`git switch CISERVICE-tests`
3. テストを*失敗させる*ために、`README.md` のURLを編集します。
4. ブランチの変更をコミットします。
5. ブランチをGitHubにプッシュします。`git push`
6. テストが失敗することを確認します。
7. 再度ローカルで作業し、テストを*合格させる*ために、URLをリポジトリでGitHub Pagesを有効にしたときのURLに変更します。 変更をコミットします。
8. ブランチをリモートにプッシュします。
9. 再度テストを実行します。 合格していない場合は、テストを見てどんな変更が必要かを確認します。
10. テストが全て合格していたら、Pull Request をマージします。
11. GitHubのブランチを削除します。
12. リポジトリのローカルコピーを更新します。`git pull --prune`

> このブランチに `ruby tests/test_verifyurl.rb` を実行して、このテストをローカルで確認することもできます。 各々のマシンでどのように異なって見えるのかや、外部でテストを実行することでプロセスが円滑になることがポイントです。 *（この方法を使用するためには、ローカルでRubyをインストールする必要があります。）*
