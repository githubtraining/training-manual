## マージコンフリクトの解決方法

チームで作業しているときに（1人で作業しているときにも）マージコンフリクトが時折発生してしまいます。 マージコンフリクトを恐ろしい問題だと感じるかもしれませんが、実際のところ、その解決方法はとても簡単です。 このセクションでは、その解決方法を学習していきましょう！

### ローカルのマージコンフリクト

マージコンフリクトは、分散型バージョン管理システムで発生する自然で軽微な副作用です。 極めて特定の状況下でのみ発生します。

- 同一ファイルの同一部分の変更
- 2つの異なるブランチ
- ブランチが分岐し、両方のブランチに変更があった場合

### マージコンフリクトの作成方法

マージコンフリクトを作成し、修正していきましょう。 パートナーと別々のブランチを作成後、同一ファイル名でファイルを作成し、マージしてみましょう。 1番目のブランチは正常にマージしますが、2番目のブランチにはマージコンフリクトが発生してしまいます。 協力して、マージコンフリクトを解決しましょう。

1. まず、クラスのリポジトリで、作業するブランチを作成し、`USERNAME-conflict`など分かりやすい名前を付けます。
2. 次に、自分のブランチでファイルを作成します。 この時、パートナーのファイル名と同一名にして作成します。 お互いのファイルが空でないことと、ファイルの内容が異なっていることを確認します。
3. クラスのリポジトリで `base: master` と `compare: USERNAME-conflict` で Pull Request を作成します。
4. *1番目*の Pull Request が、問題なくマージすることを確認します。
5. *2番目*の Pull Request でマージコンフリクトが発生したら、協力してマージコンフリクトを解決していきましょう。
    1. ローカル環境で `master` をフィーチャブランチにマージします。
    2. マージコンフリクトが発生しても、心配しなくて大丈夫です！ コンフリクトのあるファイルは `Unmerged Paths` に記載されています。 `git status` と入力して、どのファイルにコンフリクトがあるかを確認します。
    3. 該当ファイルをテキストエディタで開き、以下のマージコンフリクトの印を探します。 (`<<<<<<<`, `=======`, `>>>>>>>`)
    4. 両方のブランチのコードがあるので、残したいバージョンを選択し、変更を保存します。
    5. マージコンフリクトを解決するには、保存された変更をアッドし、コミットします。
    6. フィーチャブランチをリモートにプッシュし、 Pull Request で解決したことを確認します。
6. Pull Request をマージします。

> マージメッセージとは？ 今回の場合では、再帰的なマージを行っています。 再帰的なマージは、この２つのブランチがマージされた時点を永続的に記録する、新しいコミットを作成します。 Gitのマージの活用については、後ほど説明します。
